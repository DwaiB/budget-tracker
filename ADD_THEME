The cleanest, production-grade way to add Light / Dark theme for the entire Next.js App Router app is to use next-themes.

This gives you:

ğŸŒ— System / Light / Dark modes

ğŸ’¾ Theme persistence (localStorage)

ğŸš« No hydration mismatch

âœ… Works perfectly with Tailwind

âœ… Step-by-Step (App Router)
1ï¸âƒ£ Install dependency
npm install next-themes

2ï¸âƒ£ Enable dark mode in Tailwind

tailwind.config.js

module.exports = {
  darkMode: "class",
  content: ["./app/**/*.{ts,tsx}", "./components/**/*.{ts,tsx}"],
  theme: {
    extend: {},
  },
  plugins: [],
};

3ï¸âƒ£ Create Theme Provider (VERY IMPORTANT)

app/providers.tsx

"use client";

import { ThemeProvider } from "next-themes";

export function Providers({ children }: { children: React.ReactNode }) {
  return (
    <ThemeProvider
      attribute="class"
      defaultTheme="system"
      enableSystem
      disableTransitionOnChange
    >
      {children}
    </ThemeProvider>
  );
}

4ï¸âƒ£ Wrap the Entire App

app/layout.tsx

import "./globals.css";
import { Providers } from "./providers";

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en" suppressHydrationWarning>
      <body className="bg-white text-black dark:bg-black dark:text-white transition-colors">
        <Providers>{children}</Providers>
      </body>
    </html>
  );
}


ğŸ”‘ suppressHydrationWarning prevents mismatch on first render.

5ï¸âƒ£ Theme Toggle Button (Material-style)

ThemeToggle.tsx

"use client";

import { useTheme } from "next-themes";
import { useEffect, useState } from "react";

export default function ThemeToggle() {
  const { theme, setTheme } = useTheme();
  const [mounted, setMounted] = useState(false);

  useEffect(() => setMounted(true), []);
  if (!mounted) return null;

  return (
    <button
      onClick={() => setTheme(theme === "dark" ? "light" : "dark")}
      className="rounded-lg px-3 py-2 text-sm
                 bg-zinc-100 dark:bg-zinc-800
                 text-zinc-800 dark:text-zinc-200
                 hover:bg-zinc-200 dark:hover:bg-zinc-700
                 transition"
    >
      {theme === "dark" ? "â˜€ Light" : "ğŸŒ™ Dark"}
    </button>
  );
}

6ï¸âƒ£ Use It in Navbar
import ThemeToggle from "@/components/ThemeToggle";

<div className="flex items-center gap-3">
  <ThemeToggle />
  <GoogleSignInButton />
</div>

ğŸ§  How It Works (Simple)

next-themes adds class="dark" to <html>

Tailwindâ€™s dark: styles automatically apply

Theme choice is stored in localStorage

System theme respected by default

ğŸ¨ Example Global Styles
body {
  @apply bg-white text-zinc-900 dark:bg-black dark:text-zinc-100;
}

âœ… Result

ğŸŒ Light mode

ğŸŒš Dark mode

ğŸ” System mode

âš¡ No flicker

ğŸ§¼ Clean Material feel

ğŸ”¥ Want more?

I can add:

ğŸš System / Light / Dark selector

ğŸ¨ Custom color palette

ğŸ’¾ Server-side theme detection

ğŸ“± Mobile-friendly toggle

Just say the word ğŸ‘Œ